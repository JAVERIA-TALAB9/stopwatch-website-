<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Stopwatch</title>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* A light gray background */
            color: #1f2937; /* Dark gray text */
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 1rem;
            overflow-x: hidden; /* Prevents horizontal scrolling */
        }

        .container {
            background-color: #ffffff; /* White card background */
            padding: 2rem;
            border-radius: 1.5rem; /* Rounded corners */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Soft shadow */
            width: 100%;
            max-width: 23rem; /* Adjusted max width for a slightly larger look */
            text-align: center;
            border: 2px solid #e5e7eb; /* Light border */
        }

        h1 {
            font-size: 2.25rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
            color: #8b5cf6; /* Purple color for the title */
        }

        #display {
            font-family: 'Courier New', Courier, monospace;
            font-size: 3rem;
            font-weight: bold;
            margin: 2rem 0;
            background-color: #e5e7eb; /* Light gray background for display */
            padding: 1rem;
            border-radius: 1rem;
            border: 1px solid #d1d5db;
            color: #10b981; /* Green color for the numbers */
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06); /* Inner shadow */
            width: 90%;
            letter-spacing: 1px;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
        }

        button {
            padding: 0.75rem 1.5rem;
            color: white;
            font-weight: 600;
            border-radius: 9999px; /* Fully rounded buttons */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: background-color 0.15s ease-in-out;
            cursor: pointer;
            border: none;
        }

        button:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }

        #startBtn { background-color: #22c55e; } /* Green */
        #startBtn:hover { background-color: #16a34a; }
        
        #pauseBtn { background-color: #f59e0b; } /* Yellow */
        #pauseBtn:hover { background-color: #d97706; }

        #resetBtn { background-color: #ef4444; } /* Red */
        #resetBtn:hover { background-color: #dc2626; }

        #lapBtn { background-color: #8b5cf6; } /* Purple */
        #lapBtn:hover { background-color: #7c3aed; }
        
        .lap-container {
            margin-top: 3rem;
            text-align: left;
            width: 100%;
            max-height: 16rem;
            overflow-y: auto;
        }
        
        h2 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #a855f7; /* Purple for lap times title */
        }
        
        #laps {
            background-color: #f3f4f6;
            border-radius: 0.75rem;
            border: 1px solid #e5e7eb;
            list-style: none;
            padding: 0;
            margin: 0;
        }

        #laps li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            font-size: 1.125rem;
        }

        #laps li:nth-child(even) {
            background-color: #e5e7eb;
        }

        #laps li span.lap-time {
            font-family: 'Courier New', Courier, monospace;
            color: #a855f7; /* Purple for lap time text */
        }
    </style>
</head>
<body>
    
    <!-- Main container for the stopwatch UI -->
    <div class="container">
        
        <!-- Stopwatch Title -->
        <h1>Stopwatch</h1>
        
        <!-- Timer display element -->
        <div id="display">
            00:00:00:00
        </div>
        
        <!-- Control buttons container -->
        <div class="controls">
            <button id="startBtn">Start</button>
            <button id="pauseBtn" disabled>Pause</button>
            <button id="resetBtn" disabled>Reset</button>
            <button id="lapBtn" disabled>Lap</button>
        </div>
        
        <!-- Lap times container -->
        <div class="lap-container">
            <h2>Lap Times</h2>
            <ul id="laps">
                <!-- Lap times will be inserted here dynamically -->
            </ul>
        </div>
    </div>

    <script>
        // --- DOM Elements ---
        const display = document.getElementById('display');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const resetBtn = document.getElementById('resetBtn');
        const lapBtn = document.getElementById('lapBtn');
        const lapsList = document.getElementById('laps');

        // --- State Variables ---
        let timer = null; // The interval ID for the timer
        let elapsedTime = 0; // Total elapsed time in milliseconds
        let isRunning = false;
        let lapCount = 0;

        /**
         * Formats a number to have two digits (e.g., 5 -> "05").
         * @param {number} num The number to format.
         * @returns {string} The formatted string.
         */
        function formatTime(num) {
            return num.toString().padStart(2, '0');
        }

        /**
         * Updates the stopwatch display with the current elapsed time.
         */
        function updateDisplay() {
            // Calculate hours, minutes, seconds, and centiseconds
            const totalSeconds = Math.floor(elapsedTime / 1000);
            const centiseconds = formatTime(Math.floor((elapsedTime % 1000) / 10));
            const seconds = formatTime(totalSeconds % 60);
            const minutes = formatTime(Math.floor(totalSeconds / 60) % 60);
            const hours = formatTime(Math.floor(totalSeconds / 3600));

            // Update the display text
            display.textContent = `${hours}:${minutes}:${seconds}:${centiseconds}`;
        }

        /**
         * Starts or resumes the stopwatch.
         */
        function startStopwatch() {
            if (isRunning) return;

            isRunning = true;
            // Record the start time to calculate the elapsed time accurately
            const startTime = Date.now() - elapsedTime;
            
            // Set an interval to update the display every 10 milliseconds
            timer = setInterval(() => {
                elapsedTime = Date.now() - startTime;
                updateDisplay();
            }, 10);

            // Update button states
            startBtn.disabled = true;
            pauseBtn.disabled = false;
            resetBtn.disabled = false;
            lapBtn.disabled = false;
        }

        /**
         * Pauses the stopwatch.
         */
        function pauseStopwatch() {
            if (!isRunning) return;

            isRunning = false;
            clearInterval(timer);

            // Update button states
            startBtn.disabled = false;
            pauseBtn.disabled = true;
        }

        /**
         * Resets the stopwatch to its initial state.
         */
        function resetStopwatch() {
            // Stop the timer first
            clearInterval(timer);
            isRunning = false;
            elapsedTime = 0;
            lapCount = 0;
            
            // Reset the display and clear lap times
            updateDisplay();
            lapsList.innerHTML = '';
            
            // Update button states
            startBtn.disabled = false;
            pauseBtn.disabled = true;
            resetBtn.disabled = true;
            lapBtn.disabled = true;
        }
        
        /**
         * Records the current elapsed time as a lap.
         */
        function recordLap() {
            if (!isRunning) return;

            lapCount++;
            const newLap = document.createElement('li');
            newLap.className = 'flex justify-between items-center px-4 py-3 text-lg';
            newLap.innerHTML = `
                <span>Lap ${lapCount}:</span>
                <span class="lap-time">${display.textContent}</span>
            `;
            lapsList.prepend(newLap); // Add the new lap to the top of the list
        }

        // --- Event Listeners ---
        startBtn.addEventListener('click', startStopwatch);
        pauseBtn.addEventListener('click', pauseStopwatch);
        resetBtn.addEventListener('click', resetStopwatch);
        lapBtn.addEventListener('click', recordLap);
    </script>
</body>
</html>
